<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Car Cricket</title>

    <link rel="stylesheet" href="assets/styledev.css" />
    <script src="assets/sear.0.4.4.js"></script>
    <script src="assets/scripts.js"></script>

    <!-- Icons -->
    <link rel="shortcut icon" href="assets/web-icon.png" type="image/png" />
    <link rel="apple-touch-icon" href="assets/apple-icon.png" />
  </head>
  <body>
    <section :else="persisted.playing" id="menu">
      <!--
        title
        
        team name
        game mode
        (warnings)

        start
        history
      -->
      <div class="title">
        <h1>car cricket</h1>
      </div>
      <div class="name">
        <label for="teamname">team name:</label>
        <input
          id="teamname"
          :value="persisted.team"
          placeholder="team name"
          type="text"
          onkeyup="if (event.key === 'Enter') start()"
        />
        <p class="warning" :bind:style="warn,color:#b20000">
          a team name is required.
        </p>
      </div>
      <div class="mode">
        <label for="gamemode">select match:</label>
        <select id="gamemode" :value="persisted.type">
          <option value="free">Free Play</option>
          <option value="test">Test Match</option>
          <option value="t20">T20</option>
          <option value="day">One Day International</option>
        </select>
        <!--
          (Free play) Wickets are runs are unlimited. You can keep playing until you press "End Innings."
          (Test Match) The innings ends when ten wickets have fallen, or you can "declare" by pressing "End Innings."
          (T20) The innings ends when either: ten wickets have fallen, or 20 cars have passed.
          {One Day International} The innings ends when either: ten wickets have fallen, or 50 cars have passed.
        -->
        <p>conditions: <span id="conditions" :text="conditions"></span></p>
      </div>
      <div class="actions">
        <button class="start" onclick="start()">
          start innings
        </button>
        <!-- on menu page, history displays automatically,; doesn't need a button.
          <button onclick="history()">history</button>
        -->
        <div :each="persisted.history">
          <p>[[:each:id]]. [[:each:value]]</p>
          <!--
          list <inning-number>. <team> scored <runs> for <wickets> in a <balls> <gamemode>

          clear
        --></div>
        <button onclick="app.history = []">clear</button>
      </div>
    </section>

    <section :if="persisted.playing" id="game">
      <!--
        scoring buttons

        end
        history
      -->
      <div class="buttons">
        <button class="white" onclick="score(1)">one</button>
        <button class="grey" onclick="score(2)">two</button>
        <button class="blue" onclick="score(3)">three</button>
        <button class="black" onclick="score(4)">four</button>
        <button class="pink" onclick="score(5)">five</button>
        <button class="yellow" onclick="score(6)">six</button>
        <button
          class="red"
          onclick="app.persisted.balls++; app.persisted.wickets++"
        >
          wicket
        </button>
      </div>

      <div class="details">
        <p>
          team:
          <span :text="persisted.team"></span>
        </p>
        <p>
          score: <span :text="persisted.runs"></span> for
          <span :text="persisted.wickets"></span>
        </p>
        <p>overs: <span :text="overs"></span></p>
        <p>time: <span :text="time"></span></p>
      </div>

      <div class="actions">
        <button onclick="end()">end innings</button>
        <button onclick="history()">history</button>
      </div>
    </section>

    <section :if="popup.open" id="modal">
      <span class="background" onclick="popup.close()"></span>
      <div class="content">
        <button class="close" onclick="popup.close()">x</button>
        <br />
        <br />
        <b :html="popup.title"></b>
        <div :html="popup.content"></div>
        <div :bind:style="popup.history,display:block" style="display:none">
          <h4>history</h4>
          <div :each="persisted.history">
            <div class="sidebyside">
              <p><i>[[:each:id]]</i>. [[:each:value]]</p>
              <button
                onclick="app.persisted.history.splice('[[:each:id]]' - 1, 1)"
              >
                delete
              </button>
            </div>
          </div>
          <button onclick="app.history = []">clear</button>
        </div>
      </div>
    </section>
  </body>
</html>
